<script>
    var product_num = 5;

    // Product 1
    var brand1 = "HTC";
    var price1 = 40.00;
    var image1 = "http://dport96.github.io/ITM352/morea/080.flow-control-II/HTC.jpg";

    // Product 2
    var brand2 = "Apple";
    var price2 = 75.00;
    var image2 = "http://dport96.github.io/ITM352/morea/080.flow-control-II/iphone-3gs.jpg";

    // Product 3
    var brand3 = "Nokia";
    var price3 = 35.00;
    var image3 = "http://dport96.github.io/ITM352/morea/080.flow-control-II/Nokia.jpg";

    // Product 4
    var brand4 = "Samsung";
    var price4 = 45.00;
    var image4 = "http://dport96.github.io/ITM352/morea/080.flow-control-II/Samsung.jpg";

    // Product 5
    var brand5 = "Blackberry";
    var price5 = 10.00;
    var image5 = "http://dport96.github.io/ITM352/morea/080.flow-control-II/Blackberry.jpg";
</script>


<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="./products-style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smartphone Products</title>
</head>

<body>
    <h1>Used Smartphone Store</h1>
    <div>
        <main>


<script>

    for(i = 1; i <= product_num; i++) {

    document.write(`
    <section class="item">
        <h2>${eval('brand' + i)}</h2> 
        <p>\$${eval('price' + i)}</p> 
        <img src=${eval('image' + i)}>
    </section>
            
    `)}
</script>

        </main>
    </div>
    <footer>Your One Stop Phone Shop</footer>
</body>

</html>









// Executes webpage
window.onload = function () 
 {
     let params = (new URL(document.location)).searchParams; // String for form data

     // 'if' statement to check valid quantities
     if (params.has('submitPurchase'))
     {
         gotErrors = false;
         total_qty = 0;

         // loop to that lists the products quantities
         for (i=0; i < products.length; i++)
         {
             if(params.has(`quantity${i}`))
             {
                 quantity = params.get(`quantity${i}`);
                 product_form[`quantity${i}`].value = quantity;
                 total_qty += quantity;
                 if (!isNonNegInt(quantity))
                 {
                     gotErrors = true;

                     // checks where an error is
                     checkQuantityTextbox(product_form[`quantity${i}`])
                 }
             }
         }
         if (gotErrors)
         {
             alert("Enter a valid quantity"); // check ig quantity value is valid or invalid
         }
         else if (total_qty == 0)
         {
             alert("Your shopping cart is empty!"); // check is cart is filled or empty
         }
         else
         {
             window.location = `./invoice.html${document.location.search}`; // the page will redirect you to the invoice
             window.stop
         }
     }
 }